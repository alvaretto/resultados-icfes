// Prisma Schema - Soporta SQLite (dev) y PostgreSQL (prod)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

// Modelo: Estudiante con sus resultados ICFES
model Student {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Información del estudiante
  documentNumber String
  fullName       String
  grade          Int
  model          String // "REGULAR" o "FLEXIBLE"
  year           Int
  period         Int

  // Puntajes por área
  scoreReading          Float
  scoreMathematics      Float
  scoreSocialSciences   Float
  scoreNaturalSciences  Float
  scoreEnglish          Float
  scoreGlobal           Float

  // Índices para optimizar consultas
  @@unique([documentNumber, year, period])
}

